<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>

<chapter version="5.0" xml:id="cha-images-ignition"
 xmlns="http://docbook.org/ns/docbook"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Configuration by using Ignition</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    This chapter provides details about the Ignition provisioning tool that is used to set up a machine. Here you'll learn how to provide required configuration files used for the machine definition.
   </para>
  </abstract>
 </info>
 <sect1 xml:id="sec-about-ignition">
 <title>About Ignition</title>
 <para>
 Ignition is a provisioning tool that enables you to configure a system according to your specification on the first boot . When the system is booted for the first time, Ignition is loaded as apart of an initramfs and searches for a configuration file within a specific directory (on a USB flash disk or you can provide a url). All changes are performed before kernel switches from the temporal file system to the real root file system (before the <literal>switch_root</literal> command is issued).
 </para>
 <para>
 Ignition uses a configuration file in the JSON format. The file is called <filename>config.ign</filename>. For the purpose of better human readability you can create a YAML file and convert this file to JSON. 
 </para>
 </sect1>
 <sect1 xml:id="sec-ignition-configuration">
 <title><literal>config.ign</literal></title>
 <para>
 When installing on a bare metal, the configuration file <filename>config.ign</filename> must reside in the <filename>ignition</filename> subdirectory on the configguration media. The directory structure should look as follows:
 </para>
 <screen>
 &lt;root directory&gt;
 	- ignition
 		- config.ign
 </screen>
 <para>
 In case you intend to configure a QEMU/KVM virtual machine, provide the path to the <filename>config.ign</filename> as an attribute of the <command>qemu</command> command.
 </para>
 <screen>
 -fw_cfg name=opt/com.coreos/config,file=<replaceable>path to config.ign</replaceable>
 </screen>
 <para>
 The <filename>confign.ign</filename> contains various data types&mdash;objects, strings, integers, booleans and lists of objects. 
 </para>
 </sect1>
 </chapter>
